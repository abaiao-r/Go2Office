@startuml state-management
!theme plain

:UI State] as UIState
:User Event] as Event
:ViewModel] as VM
:Use Cases] as UC
:Repository] as Repo

UIState --> Event : User\nInteraction
Event --> VM : Handle\nEvent
VM --> UC : Execute
UC --> Repo : Query/Mutate
Repo --> UC : Result
UC --> VM : Success/Error
VM --> UIState : Update\nState
UIState --> UIState : UI\nRecomposes

note right of UIState
  Immutable data class
  Single source of truth
  Observed via StateFlow
end note

@enduml

